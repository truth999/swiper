/*
 * Swiper 1.0 - Mobile Touch Slider (Minified Version)
 * http://www.idangero.us/sliders/swiper/
 *
 * Copyright 2012, Vladimir Kharlampidi
 * The iDangero.us
 * http://www.idangero.us/
 *
 * Licensed under GPL & MIT
 *
 * Released on: March 15, 2012
*/
Swiper=function(d,b){if(document.querySelectorAll&&0!=document.querySelectorAll(d).length){var a=this;a.touches={};a.positions={};a.times={};a.isTouched=!1;a.activeSlide=0;a.use3D=a.isSupport3D();b=b||{};a.params=b;b.mode=b.mode||"horizontal";b.ratio=b.ratio||1;b.speed=b.speed||300;b.freeMode=b.freeMode||!1;b.freeModeFluid=b.freeModeFluid||!1;b.simulateTouch=!1===b.simulateTouch?!1:!0;b.followFinger=!1===b.followFinger?!1:!0;b.onlyExternal=b.onlyExternal||!1;b.createPagination=!1===b.createPagination?!1:!0;b.pagination=b.pagination||!1;b.slideClass=b.slideClass||"swiper-slide";b.wrapperClass=b.wrapperClass||"swiper-wrapper";b.paginationClass=b.paginationClass||"swiper-pagination-switch";b.paginationActiveClass=b.paginationActiveClass||"swiper-active-switch";var g=document.querySelectorAll(d+" ."+b.wrapperClass).item(0),f,e,i,j,l,h;a.wrapper=g;f="horizontal"==b.mode;var p=a.isSupportTouch()||!b.simulateTouch?"touchstart":"mousedown",q=a.isSupportTouch()||!b.simulateTouch?"touchmove":"mousemove",r=a.isSupportTouch()||!b.simulateTouch?"touchend":"mouseup";a.init=function(){var a=document.querySelectorAll(d).item(0).offsetWidth,k=document.querySelectorAll(d).item(0).offsetHeight;e=f?a:k;i=document.querySelectorAll(d+" ."+b.slideClass).length;for(var h=0;h<i;h++)document.querySelectorAll(d+" ."+b.slideClass).item(h).style.width=a+"px",document.querySelectorAll(d+" ."+b.slideClass).item(h).style.height=k+"px";a*=i;k*=i;j=f?a:k;f?g.style.width=a+"px":g.style.height=k+"px"};a.init();if(b.pagination&&b.createPagination){for(var m="",n=0;n<i;n++){var o="";0==n&&(o=" "+b.paginationActiveClass);m+='<span class="'+b.paginationClass+""+o+'"></span>'}document.querySelectorAll(b.pagination)[0].innerHTML=m}window.addEventListener("resize",function(){a.init()},!1);g.addEventListener(p,function(c){if(a.isTouched||b.onlyExternal)return!1;a.isTouched=!0;if(!a.isSupportTouch()||1==c.targetTouches.length)if(a.isSupportTouch()||c.preventDefault(),a.touches.startX=a.touches.currentX=a.isSupportTouch()?c.targetTouches[0].pageX:c.pageX,a.touches.startY=a.touches.currentY=a.isSupportTouch()?c.targetTouches[0].pageY:c.pageY,a.touches.start=a.touches.current=f?a.touches.startX:a.touches.startY,a.setTransition(0),a.positions.start=a.positions.current=f?a.getTranslate("x"):a.getTranslate("y"),f?a.setTransform(a.positions.start,0,0):a.setTransform(0,a.positions.start,0),a.times.start=(new Date).getTime(),h=void 0,b.onTouchStart)b.onTouchStart(a)},!1);g.addEventListener(q,function(c){if(a.isTouched&&!b.onlyExternal)a:{if(a.isSupportTouch()&&("undefined"==typeof h&&f&&(h=!!(h||Math.abs(c.targetTouches[0].pageY-a.touches.startY)>Math.abs(c.targetTouches[0].pageX-a.touches.startX))),"undefined"==typeof h&&!f&&(h=!!(h||Math.abs(c.targetTouches[0].pageY-a.touches.startY)<Math.abs(c.targetTouches[0].pageX-a.touches.startX))),h))break a;if(!a.isSupportTouch()||1==c.touches.length){c.preventDefault();if(b.onTouchMove)b.onTouchMove(a);a.touches.current=f?a.isSupportTouch()?c.targetTouches[0].pageX:c.pageX:a.isSupportTouch()?c.targetTouches[0].pageY:c.pageY;a.positions.current=(a.touches.current-a.touches.start)*b.ratio+a.positions.start;if(0<a.positions.current&&(!b.freeMode||b.freeModeFluid))c=(2*e-a.positions.current)/e/2,a.positions.current=0.5>c?e/2:a.positions.current*c;if(Math.abs(a.positions.current)>j-e&&(!b.freeMode||b.freeModeFluid)){var c=(j-e+a.positions.current)/(j-e)/2,c=a.positions.current-e*c*(i-1),d=-(j-e/2);a.positions.current=c<d?d:c}b.followFinger&&(f?a.setTransform(a.positions.current,0,0):a.setTransform(0,a.positions.current,0),b.freeMode&&a.updateActiveSlide(a.positions.current))}}},!1);g.addEventListener(r,function(){if(!b.onlyExternal){a.isTouched=!1;a.positions.current||(a.positions.current=a.positions.start);f?a.setTransform(a.positions.current,0,0):a.setTransform(0,a.positions.current,0);a.times.end=(new Date).getTime();a.touches.diff=a.touches.current-a.touches.start;a.touches.abs=Math.abs(a.touches.diff);a.positions.diff=a.positions.current-a.positions.start;a.positions.abs=Math.abs(a.positions.diff);var c=a.positions.diff,d=a.positions.abs;5>d&&a.swipeReset();var g=j-e;0<a.positions.current?a.swipeReset("-1"):Math.abs(a.positions.current)>g?a.swipeReset("+1"):b.freeMode?(300>a.times.end-a.times.start&&b.freeModeFluid&&(c=a.positions.current+2*a.touches.diff,c<-1*g&&(c=-g),0<c&&(c=0),f?a.setTransform(c,0,0):a.setTransform(0,c,0),a.setTransition(2*(a.times.end-a.times.start)),a.updateActiveSlide(c)),(!b.freeModeFluid||300<=a.times.end-a.times.start)&&a.updateActiveSlide(a.positions.current)):(l=0>c?"toNext":"toPrev","toNext"==l&&300>=a.times.end-a.times.start&&(30>d?a.swipeReset():a.swipeNext()),"toPrev"==l&&300>=a.times.end-a.times.start&&(30>d?a.swipeReset():a.swipePrev()),"toNext"==l&&300<a.times.end-a.times.start&&(d>=0.5*e?a.swipeNext():a.swipeReset()),"toPrev"==l&&300<a.times.end-a.times.start&&(d>=0.5*e?a.swipePrev():a.swipeReset()));if(b.onTouchEnd)b.onTouchEnd(a)}},!1);a.swipeNext=function(){a.positions.current||(a.positions.current=-e);var c=Math.ceil(-a.positions.current/e)*e;c!=j&&(f?a.setTransform(-c,0,0):a.setTransform(0,-c,0),a.setTransition(b.speed),a.touches.start=a.touches.current,a.positions.current-=e,a.updateActiveSlide(-c),b.onSlideChange&&a.transitionEnd(b.onSlideChange))};a.swipePrev=function(){var c=f?a.getTranslate("x"):a.getTranslate("y");if(0!=c){var d=(Math.ceil(-a.positions.current/e)-1)*e;d==-c&&(d-=e,a.positions.current=-d);f?a.setTransform(-d,0,0):a.setTransform(0,-d,0);a.setTransition(b.speed);a.updateActiveSlide(-d);b.onSlideChange&&a.transitionEnd(b.onSlideChange)}};a.swipeReset=function(c){if(b.freeMode&&c&&("-1"===c&&(a.positions.start=0),"+1"===c))a.positions.start=-j+e;c=0>a.positions.current?Math.round(a.positions.current/e)*e:0;c==-j&&(c+=e);"horizontal"==b.mode?a.setTransform(c,0,0):a.setTransform(0,c,0);a.setTransition(b.speed);a.updateActiveSlide(c)};a.swipeTo=function(c){0>c||c>i-1||(c=-c*e,a.setTransform(c,0,0),a.setTransition(b.speed),a.updateActiveSlide(c))};a.updateActiveSlide=function(c){a.activeSlide=Math.round(-c/e);a.activeSlide==i&&(a.activeSlide=i-1);0>a.activeSlide&&(a.activeSlide=0);b.pagination&&a.updatePagination()};a.updatePagination=function(){var c=document.querySelectorAll(b.pagination+" ."+b.paginationActiveClass).item(0);c&&(0<=c.className.indexOf("active")&&(c.className=c.className.replace(b.paginationActiveClass,"")),document.querySelectorAll(b.pagination+" ."+b.paginationClass).item(a.activeSlide).className=document.querySelectorAll(b.pagination+" ."+b.paginationClass).item(a.activeSlide).className+" "+b.paginationActiveClass)}}};Swiper.prototype={transitionEnd:function(d){for(var b=this,a=b.wrapper,g=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd"],f=0;f<g.length;f++);if(d)for(var e=function(){d(b);for(var f=0;f<g.length;f++)a.removeEventListener(g[f],e,!1)},f=0;f<g.length;f++)a.addEventListener(g[f],e,!1)},isSupportTouch:function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch},isSupport3D:function(){var d=document.createElement("div");d.id="test3d";var b=!1;"webkitPerspective"in d.style&&(b=!0);"MozPerspective"in d.style&&(b=!0);"OPerspective"in d.style&&(b=!0);"MsPerspective"in d.style&&(b=!0);"perspective"in d.style&&(b=!0);if(b&&"webkitPerspective"in d.style){var a=document.createElement("style");a.textContent="@media (-webkit-transform-3d), (transform-3d), (-moz-transform-3d), (-o-transform-3d), (-ms-transform-3d) {#test3d{height:5px}}";document.getElementsByTagName("head")[0].appendChild(a);document.body.appendChild(d);b=5===d.offsetHeight;a.parentNode.removeChild(a);d.parentNode.removeChild(d)}return b},getTranslate:function(d){var b=this.wrapper,b=window.WebKitCSSMatrix?new WebKitCSSMatrix(window.getComputedStyle(b,null).webkitTransform):window.getComputedStyle(b,null).MozTransform||window.getComputedStyle(b,null).OTransform||window.getComputedStyle(b,null).MsTransform||window.getComputedStyle(b,null).transform;if("x"==d)var a=parseInt(b.toString().split(",")[4],10);"y"==d&&(a=parseInt(b.toString().split(",")[5],10));return a},setTransform:function(d,b,a){var g=this.wrapper.style,d=d||0,b=b||0;g.webkitTransform=this.use3D?g.MsTransform=g.MozTransform=g.OTransform=g.transform="translate3d("+d+"px, "+b+"px, "+(a||0)+"px)":g.MsTransform=g.MozTransform=g.OTransform=g.transform="translate("+d+"px, "+b+"px)"},setTransition:function(d){var b=this.wrapper.style;b.webkitTransitionDuration=b.MsTransitionDuration=b.MozTransitionDuration=b.OTransitionDuration=b.transitionDuration=d/1E3+"s"}};window.jQuery&&(jQuery.fn.swiper=function(d){return new Swiper($(this).selector,d)});